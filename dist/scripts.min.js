let pokemonRepository=function(){let t=[],e="https://pokeapi.co/api/v2/pokemon/?limit=649";function n(e){"object"==typeof e&&"name"in e&&"detailsUrl"in e?t.push(e):alert("data type is not correct")}function o(){let t=document.querySelector(".container"),e=document.createElement("div");e.classList.add("spinner-border"),t.appendChild(e)}function i(){document.querySelector(".spinner-border").classList.remove("spinner-border")}function a(t){o();let e=t.detailsUrl;return fetch(e).then(function(t){return t.json()}).then(function(e){i(),t.name=e.name,t.imageUrl=e.sprites.other.dream_world.front_default,t.height=e.height,t.weight=e.weight,t.types=e.types,t.abilities=e.abilities}).catch(function(t){console.error(t)})}function r(t){a(t).then(function(){!function(t){let e=$(".modal-body");$("#modal-container").modal("show"),e.empty();let n=$("<h1>"+t.name+"</h1>"),o=$('<img class="modal-img">');o.attr("src",t.imageUrl);let i=$("<p>height : "+t.height+"</p>"),a=$("<p>weight : "+t.weight+"</p>"),r=document.createElement("p");t.types.forEach(function(e,n){t.types.length-1==n?r.textContent+=e.type.name:r.textContent+=e.type.name+", "});let c=document.createElement("p");t.abilities.forEach(function(e,n){t.abilities.length-1==n?c.textContent+=e.ability.name:c.textContent+=e.ability.name+", "}),e.append(n),e.append(o),e.append(r),e.append(i),e.append(a),e.append(c)}(t)})}return{add:n,getAll:function(){return t},addListItem:function(t){let e=document.querySelector(".list-group"),n=document.createElement("button");n.innerText=t.name,n.classList.add("list-group-item"),n.classList.add("list-group-item-action"),e.appendChild(n),n.addEventListener("click",function(){r(t)})},loadList:function(){return o(),fetch(e).then(function(t){return t.json()}).then(function(t){i(),t.results.forEach(function(t){n({name:t.name,detailsUrl:t.url})})}).catch(function(t){console.error(t)})},loadDetails:a,showDetails:r}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(t){pokemonRepository.addListItem(t)})});